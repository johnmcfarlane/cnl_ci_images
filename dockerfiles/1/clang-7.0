FROM johnmcfarlane/cnl_ci:base-18.04
RUN apt-get install --quiet --yes clang-7 \
  && update-alternatives --install /usr/bin/g++ g++ /usr/bin/clang++-7 10 \
  && update-alternatives --install /usr/bin/c++ c++ /usr/bin/g++ 10
ENV CC /usr/bin/clang-7
ENV CXX /usr/bin/clang++-7
RUN conan profile new default --detect
RUN conan profile update settings.compiler.libcxx=libstdc++11 default
